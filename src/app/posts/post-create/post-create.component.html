<mat-card>
<mat-spinner *ngIf= "isLoading"></mat-spinner>
<form [formGroup]="form" *ngIf= "!isLoading" (submit)="onSavePost()">

	<mat-form-field>
	<input matInput type="text" name="title"   placeholder="post title" formControlName="title" >
	<mat-error *ngIf="form.get('title').invalid">Please enter a valid post title</mat-error>
	</mat-form-field>
	<div>
	<button mat-stroked-button type="button" (click)="filePicker.click()">Pick Image</button>
	<input type="file" #filePicker (change)="onImagePicked($event)">
	</div>
	<div class="image-preview" *ngIf="imagePreview!=='' && imagePreview && form.get('image').valid">
	<img [src]="imagePreview" [alt]="form.value.title">
	</div>
	<mat-form-field>
	<textarea rows="4" matInput name="content"  placeholder="post content" formControlName="content"></textarea>
	<mat-error *ngIf="form.get('content').invalid">Please enter a valid post content</mat-error>
	</mat-form-field>
	<button mat-raised-button color="accent" type="submit">Save Post</button>

</form>

</mat-card>


